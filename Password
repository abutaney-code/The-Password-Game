<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Password Game: 27 Levels</title>
    <style>
        body { font-family: 'Courier New', Courier, monospace; background: #1a1a1a; color: #fff; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .container { width: 100%; max-width: 700px; background: #2c2c2c; padding: 30px; border-radius: 15px; box-shadow: 0 0 30px rgba(0,0,0,0.5); }
        textarea { width: 100%; height: 80px; background: #444; color: #fff; border: 2px solid #555; border-radius: 10px; padding: 15px; font-size: 1.2rem; resize: none; margin-bottom: 20px; }
        .rule { padding: 15px; margin: 10px 0; border-radius: 8px; background: #3d1a1a; border-left: 6px solid #ff4d4d; transition: 0.3s; }
        .rule.valid { background: #1a3d21; border-left-color: #2ecc71; opacity: 0.5; text-decoration: line-through; }
        #victory { display: none; background: #2ecc71; color: white; padding: 40px; border-radius: 20px; font-size: 3rem; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 100; box-shadow: 0 0 50px #2ecc71; }
    </style>
</head>
<body>

<div id="victory">üèÜ GOOD JOB!</div>

<div class="container">
    <h1>The Password Game</h1>
    <p>Rule 1 is always the easiest...</p>
    <textarea id="pwInput" placeholder="Enter your password..."></textarea>
    <div id="rulesList"></div>
</div>

<script>
    const input = document.getElementById('pwInput');
    const list = document.getElementById('rulesList');
    const winScreen = document.getElementById('victory');

    const rules = [
        { id: 1, desc: "At least 5 characters.", check: v => v.length >= 5 },
        { id: 2, desc: "Must include a number.", check: v => /\d/.test(v) },
        { id: 3, desc: "Must include an uppercase letter.", check: v => /[A-Z]/.test(v) },
        { id: 4, desc: "Must include a special character (!@#).", check: v => /[!@#$%^&*]/.test(v) },
        { id: 5, desc: "The digits must add up to 25.", check: v => (v.match(/\d/g) || []).reduce((a, b) => a + +b, 0) === 25 },
        { id: 6, desc: "Must include a month of the year.", check: v => /january|february|march|april|may|june|july|august|september|october|november|december/i.test(v) },
        { id: 7, desc: "Must include a Roman numeral (I, V, X, L, C, D, M).", check: v => /[IVXLCDM]/.test(v) },
        { id: 8, desc: "Must include a color (red, blue, green, etc).", check: v => /red|blue|green|yellow|purple|orange|pink|black|white/i.test(v) },
        { id: 9, desc: "Must include the word 'password'.", check: v => /password/i.test(v) },
        { id: 10, desc: "Cannot contain your own name (use 'user').", check: v => v.includes('user') },
        { id: 11, desc: "Must include a leap year (e.g., 2024).", check: v => { 
            const years = v.match(/\d{4}/g) || [];
            return years.some(y => (y % 4 === 0 && y % 100 !== 0) || (y % 400 === 0));
        }},
        { id: 12, desc: "Must contain at least 2 vowels.", check: v => (v.match(/[aeiou]/gi) || []).length >= 2 },
        { id: 13, desc: "Must contain the symbol of the element Oxygen (O).", check: v => v.includes('O') },
        { id: 14, desc: "Must contain a Greek letter (alpha, beta, gamma).", check: v => /alpha|beta|gamma|delta|epsilon/i.test(v) },
        { id: 15, desc: "The password length must be a prime number.", check: v => {
            let n = v.length; if (n < 2) return false;
            for (let i = 2; i <= Math.sqrt(n); i++) if (n % i === 0) return false;
            return true;
        }},
        { id: 16, desc: "Must include a chess piece (king, queen, rook, etc).", check: v => /king|queen|rook|bishop|knight|pawn/i.test(v) },
        { id: 17, desc: "Must contain '3.14' (pi).", check: v => v.includes('3.14') },
        { id: 18, desc: "Must include a planet name.", check: v => /mercury|venus|earth|mars|jupiter|saturn|uranus|neptune/i.test(v) },
        { id: 19, desc: "Total characters must be less than 50.", check: v => v.length < 50 },
        { id: 20, desc: "Must contain a cardinal direction (north, south, east, west).", check: v => /north|south|east|west/i.test(v) },
        { id: 21, desc: "Must contain a 'double' letter (e.g., 'aa', 'bb').", check: v => /([a-z])\1/i.test(v) },
        { id: 22, desc: "Must contain the letter 'Z'.", check: v => v.includes('Z') },
        { id: 23, desc: "Must contain an even number of numbers.", check: v => (v.match(/\d/g) || []).length % 2 === 0 && (v.match(/\d/g) || []).length > 0 },
        { id: 24, desc: "Must include the word 'Neal'.", check: v => v.includes('Neal') },
        { id: 25, desc: "Must contain at least 3 uppercase letters.", check: v => (v.match(/[A-Z]/g) || []).length >= 3 },
        { id: 26, desc: "Must contain a currency symbol ($, ‚Ç¨, ¬£).", check: v => /[$‚Ç¨¬£¬•]/.test(v) },
        { id: 27, desc: "Final Rule: End the password with '!!!'", check: v => v.endsWith('!!!') }
    ];

    function update() {
        const val = input.value;
        list.innerHTML = '';
        let allPassed = true;

        for (let rule of rules) {
            const pass = rule.check(val);
            const div = document.createElement('div');
            div.className = `rule ${pass ? 'valid' : ''}`;
            div.innerText = `Rule ${rule.id}: ${rule.desc}`;
            list.prepend(div); // Newest rule at the top

            if (!pass) {
                allPassed = false;
                break; // Stop showing rules until this one is fixed
            }
        }

        if (allPassed && val.length > 0) {
            winScreen.style.display = 'block';
        } else {
            winScreen.style.display = 'none';
        }
    }

    input.addEventListener('input', update);
</script>

</body>
</html>
